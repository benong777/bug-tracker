<p>BUG Page</p>

<div *ngFor="let bug of bugArray; let i = index">
    <p>{{ bug['idProject'] }}</p>
    <p>{{ bug['bugTitle'] }}</p>
    <p>{{ bug['bugDescription'] }}</p>
    <p>{{ bug['assignedTo'] }}</p>
    <p>{{ bug['bugDate'] }}</p>
</div>
<button class="btn btn-primary"
        (click)="onDisplay()"></button>

<!-- <form #bugForm="ngForm" (ngSubmit)="onSubmitBug(bugForm.value)"> -->
<form #bugForm="ngForm" (ngSubmit)="onSubmitBug(bugForm)">
    <div class="form-group mx-4">
        <input  type="text"
                class="form-control"
                placeholder="Title"
                name="bugTitle"
                ngModel
                required/>
    </div>
    <div class="form-group mx-4">
        <input  type="text"
                class="form-control"
                placeholder="Description"
                name="bugDescription"
                maxlength="256"
                ngModel
                required/>
    </div>

    <!-- POST / register new user -->
    <div class="d-flex justify-content-center mt-4">
        <!-- Type = "submit" will submit the form
             Type = "button" to ensure pushing it will not submit this form. -->
        <button class="btn btn-sm btn-primary mr-4" 
                type="submit" 
                [disabled]="!bugForm.valid">
            Submit
        </button>
    </div>
</form>

<input  type="number" #bugNum  placeholder="Bug ID"/>

<!-- DELETE -->
<button class="btn btn-sm btn-warning" (click)='onDeleteBug(bugNum.value)'>Delete</button>

<!-- GET -->
<button class="btn btn-sm btn-success" (click)="onGetBug(bugNum.value)">GET</button>
<!-- GET ALL -->
<button class="btn btn-sm btn-primary" (click)="onGetAllBugs()">GET-ALL</button>

<!-- GET ALL (ARRAY)-->
<button class="btn btn-success" (click)="onGetAllArray()">GET-ALL-ARRAY</button>

<!-- PUT / update user -->
<button class="btn btn-sm btn-primary" (click)="onUpdateBug(bugNum.value, bugForm.value)">Update</button>

<!-- Display bugsObj -->
<button class="btn btn-primary" (click)="onDisplayObj()">Display</button>


<div class="row">
    <p *ngIf="isLoading">LOADING...</p>
</div>